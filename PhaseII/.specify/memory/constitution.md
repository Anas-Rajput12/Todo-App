<!--
Sync Impact Report:
Version change: 1.0.0 -> 2.0.0 (MAJOR - Backward incompatible changes)
Modified principles: All principles updated for Phase II
Added sections: Security, API, Frontend, Deployment requirements
Removed sections: Console-only constraints, in-memory only constraints
Templates requiring updates: All templates need review for Phase II compliance
Follow-up TODOs: Update all dependent templates and documentation
-->

# Todo Full Stack Application Constitution - Phase II

## Core Principles

### I. Spec-Driven Development ONLY (NON-NEGOTIABLE)
Strict Spec-Driven Development: no code before complete specification with approval. Every feature requires: Spec → Plan → Tasks → Implementation. All code must be generated by Claude Code. This ensures traceability, quality, and compliance with architectural decisions.

### II. Security First (NON-NEGOTIABLE)
JWT authentication required on ALL API calls. User isolation enforced - users only see their own tasks. Secure password handling. Regular security reviews. This ensures data privacy and system integrity.

### III. Full Stack Architecture (NON-NEGOTIABLE)
FastAPI backend + Next.js 16 frontend + SQLModel database. Clean separation of concerns. API-first design. Mobile-first responsive UI. This provides a modern, scalable foundation.

### IV. No Manual Code Writing (NON-NEGOTIABLE)
All implementation must be generated by Claude Code using approved skills. No hand-written code. This ensures consistency, maintainability, and adherence to best practices.

### V. Production Ready (NON-NEGOTIABLE)
Deployed on Vercel with working API. Clean, readable, maintainable code. Comprehensive error handling. Performance optimized. This ensures the application meets real-world usage requirements.

## Non-Negotiable Requirements

### Security Requirements
- JWT required on ALL API endpoints
- User isolation: strict filtering by user_id on all data operations
- Secure password storage (hashed with salt)
- CSRF protection on authentication flows
- Input validation on all API endpoints

### API Requirements
- FastAPI backend with RESTful endpoints
- Comprehensive OpenAPI documentation
- Proper HTTP status codes and error responses
- Request/response validation with Pydantic models
- Rate limiting on public endpoints

### Frontend Requirements
- Next.js 16 App Router architecture
- Mobile-first responsive design
- Accessible UI components (WCAG 2.1 AA compliance)
- Modern, clean UI with consistent design system
- Client-side form validation

### Database Requirements
- SQLModel with proper relationships
- User and Task tables with foreign key constraints
- Indexes on frequently queried columns
- Data validation at database level
- Connection pooling for performance

### Deployment Requirements
- Frontend deployed on Vercel
- API deployed and accessible
- Environment variables for configuration
- Database connection strings secured
- CI/CD pipeline for deployments

## Constraints and Quality Standards

### Technology Stack
- Backend: FastAPI + Python 3.13+
- Frontend: Next.js 16 + TypeScript
- Database: SQLModel + Neon DB (PostgreSQL)
- Authentication: JWT with secure storage
- Styling: Tailwind CSS
- Deployment: Vercel for frontend, API deployment platform

### Quality Standards
- Clean, readable, maintainable code
- Comprehensive error handling and logging
- Input validation on all user inputs
- Proper separation of concerns
- Consistent code style and formatting
- Documentation for all major components
- Performance optimization for production

## Development Workflow

### Implementation Process
1. Create comprehensive specification (spec.md)
2. Develop architectural plan (plan.md)
3. Generate detailed tasks (tasks.md)
4. Implement using approved Claude Code skills
5. Test thoroughly with automated tests
6. Deploy to production environment
7. Verify all success criteria met

### Success Criteria
- All Phase II features implemented and working
- Application deployed on Vercel with accessible API
- UI demo ready and impressive (<90 second demo)
- All security requirements satisfied
- Code quality meets production standards

## Governance

This constitution supersedes all previous development practices. All implementations must comply with these principles. Amendments require:
- Explicit documentation of changes
- Approval from project architect
- Migration plan for existing implementations
- Version update following semantic versioning

**Version**: 2.0.0 | **Ratified**: 2026-01-05 | **Last Amended**: 2026-01-17
